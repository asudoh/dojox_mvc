<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<title>Selectable RoundRectDataList</title>

	<!-- required: dojo.js -->
	<script type="text/javascript" src="../../../dojo/dojo.js"
		data-dojo-config="isDebug: true, async: true"></script>

	<script type="text/javascript">
		require([
			"dojox",
			"dojox/mvc",
			"dojox/mobile/parser",
			"dojo/store/Memory",
			"dojox/mvc/_patches",
			"dojox/mvc/at",
			"dojox/mvc/Group",
			"dojox/mvc/Repeat",
			"dojox/mvc/Output",
			"dojox/mobile",
			"dojox/mobile/ScrollableView",
			"dojox/mobile/Button",
			"dojox/mobile/TextArea",
			"dojox/mobile/TextBox",
			"dojox/mobile/CheckBox",
			"dojox/mobile/ViewController",
			"dojox/mobile/FixedSplitter",
			"dojox/mobile/EdgeToEdgeList",
			"dojox/mobile/EdgeToEdgeCategory",
			"dojox/mobile/deviceTheme",
			"dojox/mobile/RoundRectCategory",
			"dojox/mobile/Heading"
		], function(dojox, mvc, parser, MemoryStore){

			dojox.debugDataBinding = true;

			var search_results_init1 =
			[{
				"Query" : "Engineers1",
				"Results" : [
					{
						"First"	  : "Anne1",
						"Last"	  : "Ackerman1",
						"Checked" : true
					},
					{
						"First"	  : "Ben1",
						"Last"	  : "Beckham1",
						"Checked" : false
					},
					{
						"First"	  : "Chad1",
						"Last"	  : "Chapman1",
						"Checked" : false
					}
				]
			}];

			var search_results_init2 =
				[{
					"Query" : "Engineers1",
					"Results" : [
						{
							"First"	  : "Anne2",
							"Last"	  : "Ackerman2",
							"Checked" : false
						},
						{
							"First"	  : "Ben2",
							"Last"	  : "Beckham2",
							"Checked" : true
						},
						{
							"First"	  : "Chad2",
							"Last"	  : "Chapman2",
							"Checked" : false
						}
					]
				}];

			var memStore1 = new MemoryStore({data : search_results_init1});
			model1 = mvc.newStatefulModel({ store : memStore1 })[0];

			var memStore2 = new MemoryStore({data : search_results_init2});
			model2 = mvc.newStatefulModel({ store : memStore2 })[0];
			
			parser.parse();
			
		});
	</script>
</head>
<body class="claro">
		<div id="wrapper">
			<div id="header">
				<div id="navigation"></div>
				<div id="headerInsert">
					<h1>Input Ouput Sync</h1>
				</div>
			</div>
			<div id="main">
				<div id="leftNav"></div>
				<div id="mainContent">
					<h4>This is a single select list, when a selection is changed it will LOOP!!!!!!!!! It does not use Repeat or Group, just binding to label and checked with mvc.at</h4>
					<ul id="list1a" data-dojo-type="dojox.mobile.RoundRectList" select="single">
							<li id="configure_itemXX0" class="mblVariableHeight" data-dojo-type="dojox.mobile.ListItem"  
								data-dojo-props="label: dojox.mvc.at(model1.Results[0].First, 'value'),
												checked: dojox.mvc.at(model1.Results[0].Checked, 'value')">
							</li>
							<li id="configure_itemXX1" class="mblVariableHeight" data-dojo-type="dojox.mobile.ListItem"  
								data-dojo-props="label: dojox.mvc.at(model1.Results[1].First, 'value'),
												checked: dojox.mvc.at(model1.Results[1].Checked, 'value')">
							</li>
					</ul>	
					<h4>Here is a normal RoundRectList for comparison Item one should be selected</h4>
					<ul id="list1b" data-dojo-type="dojox.mobile.RoundRectList" select="single">
							<li id="configure_itemyy0" class="mblVariableHeight" data-dojo-type="dojox.mobile.ListItem"  checked="true">
							First</li>
							<li id="configure_itemyy1" class="mblVariableHeight" data-dojo-type="dojox.mobile.ListItem" >
							Second</li>
					</ul>	
				</div>
			</div>
		</div>
	</body>
</html>
