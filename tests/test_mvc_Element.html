<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>Dojo MVC Node Widget Test</title>

	<style type="text/css">
		@import "../../../dijit/themes/claro/document.css";
		@import "../../../dijit/tests/css/dijitTests.css";

		.bgRed {
			background-color: red;
		}

		.bgGreen {
			background-color: green;
		}

		.bgBlue {
			background-color: blue;
		}

		.boldText {
			font-weight: Bold;
		}
	</style>

	<!-- required: a default dijit theme: -->
	<link id="themeStyles" rel="stylesheet" href="../../../dijit/themes/claro/claro.css"/>

	<script type="text/javascript">
		require = {
			isDebug: 1,
			async: 1
		};
	</script>

	<!-- required: dojo.js -->
	<script type="text/javascript" src="../../../dojo/dojo.js"></script>

	<script type="text/javascript">
		require([
			"dojox",
			"dojo/Stateful",
			"dojox/mobile/parser",
			"dojox/mvc/_atBindingExtension",
			"dojox/mvc/ParserExtension",
			"dojo/domReady!"
		], function(dojox, Stateful, parser){
			titleModel = new Stateful({value: "Foo"});
			colorModel = new Stateful({value: "bgRed"});
			boldTextModel = new Stateful({checked: false});
			dojox.debugDataBinding = true;
			parser.parse();
		});
	</script>
</head>
<body class="claro">
	<div>
		<div>
			Text:
			<span data-dojo-bind="{'class': [boldTextModel, 'checked', {direction: dojox.mvc.from, converter: {format: function(value){ return value ? 'boldText' : ''; }}}],
			                      value: [titleModel, 'value']}"></span>
		</div>
		<div>
			Choose text from:
			<select type="combo" data-dojo-bind="{value: [titleModel, 'value']}">
				<option value="Foo">Foo</option>
				<option value="Bar">Bar</option>
			</select>
		</div>
	</div>

	<div style="margin-top:8px;">
		<div style="width:200px;height:200px;" data-dojo-bind="{'class': [colorModel, 'value']}"></div>
		<div>
			Choose color from:
			<select type="combo" data-dojo-bind="{value: [colorModel, 'value']}">
				<option value="bgRed">Red</option>
				<option value="bgGreen">Green</option>
				<option value="bgBlue">Blue</option>
			</select>
		</div>
	</div>

	<div style="margin-top:8px;">
		The text should be bold:
		<input type="checkbox" data-dojo-bind="{checked: [boldTextModel, 'checked']}">
	</div>
  </body>
</html>
